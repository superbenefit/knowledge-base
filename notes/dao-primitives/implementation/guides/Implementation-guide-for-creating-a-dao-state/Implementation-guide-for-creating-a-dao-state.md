https://github.com/rathermercurial/state-template/tree/refizz